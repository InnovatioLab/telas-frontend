<header
  class="header"
  [ngClass]="{
    'dark-header': isDarkMode,
    'is-admin': isAdministrador(),
  }"
  [appShowInRoutes]="headerAllowedRoutes"
>
  <div
    class="mobile-menu"
    *ngIf="isMobile"
    [ngClass]="{ 'is-open': isMobileMenuOpen }"
  >
    <div class="mobile-header-user" *ngIf="!isAdministrador()">
      <div class="mobile-header">
        <div class="header-content">
          <section class="flex align-items-center gap-2">
            <app-header-navigation
              [isLoggedIn]="isLogado()"
              [isMenuOpen]="menuAberto"
              [isProfileManagementRoute]="isProfileManagementRoute()"
              (menuToggle)="onMenuToggle()">
            </app-header-navigation>
            
            <app-header-brand
              [onLogoClickHandler]="onLogoClick.bind(this)">
            </app-header-brand>
          </section>

          <div class="right-container">
            <div class="icons-container" *ngIf="isLogado()">
              <app-header-actions
                [isAdministrator]="isAdministrador()"
                [cartItemCount]="headerActions.cartItemCount()"
                [notificationCount]="headerActions.notificationCount()"
                [cartTooltip]="cartTooltip"
                (checkoutClick)="onCheckoutClick()"
                (notificationsClick)="onNotificationsClick()">
              </app-header-actions>
            </div>
          </div>
        </div>

        <section class="box-actions main-actions mobile-only">
          <app-header-actions
            [isAdministrator]="isAdministrador()"
            [cartItemCount]="headerActions.cartItemCount()"
            [notificationCount]="headerActions.notificationCount()"
            [cartTooltip]="cartTooltip"
            (checkoutClick)="onCheckoutClick()"
            (notificationsClick)="onNotificationsClick()">
          </app-header-actions>
        </section>
      </div>
    </div>

    <div class="mobile-header-admin" *ngIf="isAdministrador()">
      <div class="mobile-header">
        <div class="header-content">
          <section class="flex align-items-center gap-2">
            <app-header-navigation
              [isLoggedIn]="isLogado()"
              [isMenuOpen]="menuAberto"
              [isProfileManagementRoute]="isProfileManagementRoute()"
              (menuToggle)="onMenuToggle()">
            </app-header-navigation>
            
            <app-header-brand
              [onLogoClickHandler]="onLogoClick.bind(this)">
            </app-header-brand>
          </section>

          <div class="right-container">
            <div class="icons-container">
              <app-header-actions
                [isAdministrator]="isAdministrador()"
                [cartItemCount]="headerActions.cartItemCount()"
                [notificationCount]="headerActions.notificationCount()"
                [cartTooltip]="cartTooltip"
                (adminClick)="onAdminClick()">
              </app-header-actions>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="desktop-header" *ngIf="!isMobile">
    <div class="container-header-content flex flex-column w-full">
      <div
        class="header-container flex flex-row justify-content-between align-items-center w-full"
      >
        <section class="flex align-items-center gap-2">
          <app-header-navigation
            [isLoggedIn]="isLogado()"
            [isMenuOpen]="menuAberto"
            [isProfileManagementRoute]="isProfileManagementRoute()"
            (menuToggle)="onMenuToggle()">
          </app-header-navigation>
          
          <app-header-brand
            [onLogoClickHandler]="onLogoClick.bind(this)">
          </app-header-brand>
        </section>

        <section class="box-actions main-actions desktop-only">
          <app-header-actions
            [isAdministrator]="isAdministrador()"
            [cartItemCount]="headerActions.cartItemCount()"
            [notificationCount]="headerActions.notificationCount()"
            [cartTooltip]="cartTooltip"
            (checkoutClick)="onCheckoutClick()"
            (adminClick)="onAdminClick()"
            (notificationsClick)="onNotificationsClick()">
          </app-header-actions>
        </section>
      </div>
    </div>
  </div>
</header>
<app-checkout-list-side-bar *ngIf="isLogado()"></app-checkout-list-side-bar>

<app-notification-sidebar 
  [visible]="isNotificationsSidebarVisible"
  (visibleChange)="onNotificationsVisibilityChange($event)">
</app-notification-sidebar>

