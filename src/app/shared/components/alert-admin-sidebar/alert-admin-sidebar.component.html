<div class="admin-alert-sidebar" [class.visible]="isVisible" [class.pinned]="isPinned">
  <div class="sidebar-header">
    <h2 class="text-center">Monitoring Alerts</h2>
    <p class="text-center">Welcome, {{ userName }}</p>
    
    <div class="header-actions">
      <button class="pin-button" (click)="togglePin()" [attr.title]="isPinned ? 'Unpin sidebar' : 'Pin sidebar'">
        <span class="material-symbols-outlined">
          {{ isPinned ? 'push_pin' : 'push_pin_outline' }}
        </span>
      </button>
      
      <button class="toggle-button" (click)="toggleSidebar()">
        <span class="material-symbols-outlined">
          {{ isVisible ? 'arrow_forward_ios' : 'arrow_back_ios' }}
        </span>
      </button>
    </div>
  </div>
  
  <div class="sidebar-content">
    <div class="search-container">
      <div class="address-search-container">
        <div class="address-search-input">
          <input
            type="text"
            pInputText
            [(ngModel)]="searchTerm"
            (ngModelChange)="applyFilters()"
            placeholder="Search alerts..."
            maxlength="50"
            class="search-input"
          />
          <button
            type="button"
            class="botao-pesquisa"
            (click)="applyFilters()"
            aria-label="Search"
            pTooltip="Search alerts"
            tooltipPosition="left"
          >
            <app-icon-search class="search-icon"></app-icon-search>
          </button>
        </div>
      </div>
    </div>    
    <div class="filter-container">
      <p-selectButton 
        [options]="filterOptions" 
        [(ngModel)]="statusFilter" 
        (onChange)="applyFilters()" 
        styleClass="full-width-select">
      </p-selectButton>
    </div>
    
    <div class="alerts-container">
      <h3>System Alerts</h3>
      
      <div *ngIf="filteredAlerts.length === 0" class="no-alerts">
        <p>No alerts found.</p>
      </div>
      
      <app-card-alert 
        *ngFor="let alert of filteredAlerts" 
        [alert]="alert"
        (resolve)="resolveAlert($event)"
        (acknowledge)="acknowledgeAlert($event)">
      </app-card-alert>
    </div>
  </div>
</div>
