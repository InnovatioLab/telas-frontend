<div class="box-status-layout">
  <div class="box-status-main-content">
    <aside class="sidebar-fixed">
      <div class="sidebar-header">
        <button class="logout-btn" (click)="logout()" pTooltip="Logout" tooltipPosition="right">
          <app-icon-logout width="22" height="22"></app-icon-logout>
        </button>
        <h3>Screens</h3>
      </div>
      <ul class="screen-list">
        <li 
          *ngFor="let screen of screens" 
          [class.selected]="screen.id === selectedScreen.id"
          (click)="selectScreen(screen)">
          <span class="screen-name">{{ screen.name }}</span>
          <span class="status-badge" [ngClass]="screen.status">{{ getStatusLabel(screen.status) }}</span>
        </li>
      </ul>
    </aside>
    <main class="content">
      <h2>{{ selectedScreen.name }}</h2>
      <nav class="tabs-menu">
        <ul>
          <li 
            *ngFor="let opt of menuOptions"
            [class.active]="selectedMenu === opt.key"
            (click)="selectMenu(opt.key)">
            <ng-container [ngSwitch]="opt.icon">
              <app-icon-tv-display *ngSwitchCase="'tv-display'" class="menu-icon" width="18" height="18"></app-icon-tv-display>
              <app-icon-shopping-basket *ngSwitchCase="'shopping-basket'" class="menu-icon" width="18" height="18"></app-icon-shopping-basket>
            </ng-container>
            {{ opt.label }}
          </li>
        </ul>
      </nav>
      <ng-container [ngSwitch]="selectedMenu">
        <section *ngSwitchCase="'panel'">
          <h4>Panel View</h4>
          <div class="panel-section">
            <div class="panel-block">
              <strong>Screen:</strong> {{ selectedScreen.name }}
            </div>
            <div class="panel-block">
              <strong>Infrastructure</strong>
              <div><strong>IP:</strong> {{ selectedScreen.infra.ip }}</div>
              <div><strong>MAC:</strong> {{ selectedScreen.infra.mac }}</div>
              <div><strong>Location:</strong> {{ selectedScreen.infra.location }}</div>
            </div>
            <div class="panel-block">
              <strong>Status</strong>
              <div>
                <span class="status-badge" [ngClass]="selectedScreen.status">{{ getStatusLabel(selectedScreen.status) }}</span>
              </div>
            </div>
            <div class="panel-block">
              <strong>Connectivity</strong>
              <div>
                <strong>Internet:</strong>
                <span [ngClass]="selectedScreen.connectivity.internet ? 'online' : 'offline'">
                  {{ selectedScreen.connectivity.internet ? 'Connected' : 'Disconnected' }}
                </span>
              </div>
              <div>
                <strong>Last Check:</strong> {{ selectedScreen.connectivity.lastCheck }}
              </div>
            </div>
          </div>
        </section>
        <section *ngSwitchCase="'ads'">
          <h4>Loaded Ads</h4>
          <div>
            <span>No ads loaded for this screen.</span>
          </div>
        </section>
      </ng-container>
    </main>
  </div>
</div>
