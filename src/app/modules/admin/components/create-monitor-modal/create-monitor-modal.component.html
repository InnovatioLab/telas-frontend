<div class="create-monitor-modal">
  <div class="modal-header">
    <h2>Create Screen</h2>
    <button
      pButton
      pRipple
      icon="pi pi-times"
      class="p-button-rounded p-button-text p-button-secondary close-btn"
      (click)="cancel()"
    ></button>
  </div>

  <form [formGroup]="monitorForm" (ngSubmit)="submit()" class="modal-content">
    <div class="form-section p-0">
      <div class="form-section p-0">
        <h3>Address Information</h3>

        <div formGroupName="address" class="address-group p-0">
          <div class="form-row">
            <div class="form-field">
              <label for="zipCode" class="required">Zip Code</label>
              <div class="zipcode-input-container">
                <input
                  type="text"
                  pInputText
                  formControlName="zipCode"
                  placeholder="Enter 5-digit Zip Code"
                  class="w-full input-form"
                  minlength="5"
                  maxlength="5"
                  id="inp-zip-code"
                  pKeyFilter="int"
                />
                <span
                  *ngIf="loadingZipCode"
                  class="loading-icon"
                  aria-label="Loading"
                ></span>
              </div>
              <small class="help-text"
                >Enter the zip code to automatically fill street, city, state and country</small
              >
              <small
                class="error-message"
                *ngIf="getFieldError('address', 'zipCode')"
                >{{ getFieldError("address", "zipCode") }}</small
              >
            </div>

            <div class="form-field">
              <label for="street" class="required">Street</label>
              <input
                pInputText
                id="street"
                formControlName="street"
                placeholder="Enter street"
              />
              <small
                class="error-message"
                *ngIf="getFieldError('address', 'street')"
                >{{ getFieldError("address", "street") }}</small
              >
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label for="city" class="required">City</label>
              <input
                pInputText
                id="city"
                formControlName="city"
                placeholder="Enter city"
              />
              <small
                class="error-message"
                *ngIf="getFieldError('address', 'city')"
                >{{ getFieldError("address", "city") }}</small
              >
            </div>

            <div class="form-field">
              <label for="state" class="required">State</label>
              <input
                pInputText
                id="state"
                formControlName="state"
                placeholder="Enter 2-letter state code"
                maxlength="2"
              />
              <small
                class="error-message"
                *ngIf="getFieldError('address', 'state')"
                >{{ getFieldError("address", "state") }}</small
              >
            </div>
          </div>

          <div class="form-row">
            <div class="form-field">
              <label for="country" class="required">Country</label>
              <input
                pInputText
                id="country"
                formControlName="country"
                placeholder="Enter country"
              />
              <small
                class="error-message"
                *ngIf="getFieldError('address', 'country')"
                >{{ getFieldError("address", "country") }}</small
              >
            </div>

            <div class="form-field">
              <label for="address2">Address 2</label>
              <input
                pInputText
                id="address2"
                formControlName="address2"
                placeholder="Enter Address 2"
              />
              <small
                class="error-message"
                *ngIf="getFieldError('address', 'address2')"
                >{{ getFieldError("address", "address2") }}</small
              >
            </div>
          </div>
        </div>
      </div>

      <div class="w-full">
        <div class="form-field w-full">
          <label for="locationDescription">Location Description</label>
          <textarea
            pInputTextarea
            id="locationDescription"
            formControlName="locationDescription"
            placeholder="Enter location description"
            rows="3"
          >
          </textarea>
          <small
            class="error-message"
            *ngIf="getFieldError('locationDescription')"
            >{{ getFieldError("locationDescription") }}</small
          >
        </div>
      </div>
    </div>

    <div class="container-buttons">
      <button
        pButton
        pRipple
        type="button"
        label="Cancel"
        id="btnSecundario"
        class="p-button-outlined"
        (click)="cancel()"
      ></button>
      <button
        pButton
        pRipple
        type="submit"
        label="Create Screen"
        [disabled]="monitorForm.invalid"
      ></button>
    </div>
  </form>
</div>
